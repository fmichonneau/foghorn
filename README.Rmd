---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

[![Travis-CI Build Status](https://travis-ci.org/fmichonneau/foghorn.svg?branch=master)](https://travis-ci.org/fmichonneau/foghorn)
[![AppVeyor Build Status](https://ci.appveyor.com/api/projects/status/github/fmichonneau/foghorn?branch=master&svg=true)](https://ci.appveyor.com/project/fmichonneau/foghorn)
[![Coverage Status](https://img.shields.io/codecov/c/github/fmichonneau/foghorn/master.svg)](https://codecov.io/github/fmichonneau/foghorn?branch=master)
[![](http://www.r-pkg.org/badges/version/foghorn)](http://www.r-pkg.org/pkg/foghorn)
[![CRAN RStudio mirror downloads](http://cranlogs.r-pkg.org/badges/foghorn)](http://www.r-pkg.org/pkg/foghorn)

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```

# foghorn

> **foghorn** *noun* <br>
>     1. Device used to facilitate navigation in foggy conditions by warning of
>        potential hazards ahead.

`foghorn` makes accessible to the R terminal the CRAN check
results for packages maintained by individuals, or for other packages of
interest. The results are presented as a colored summary, or as a tibble. The function that generates the summary is designed to be called from your `.Rprofile` so you can check on the status of the packages regularly.

As new features are introduced in development versions of R, or new policies are
put in place, packages that are not updated frequently may start generating
warnings or errors when checked on CRAN's infrastructure. `foghorn` brings this
information to your terminal so you don't have to leave the comfort of your
terminal to know the results of the CRAN checks for your packages.

## Installation

You can install the development version of **`foghorn`** from github with:

```{r gh-installation, eval = FALSE}
source("https://install-github.me/fmichonneau/foghorn")
```

or the stable version from CRAN:

```{r cran-install, eval=FALSE}
install.packages("foghorn")
```

## Demonstration

```{r example}
## load the package
library(foghorn)
```

`foghorn` provides a graphical summary for CRAN check results for the packages
maintained by individuals (the number in parentheses indicates the number of R
flavors used by CRAN that generate notes, warnings, errors):

```{r graphical-interface}
## Graphical interface
summary_cran_results(email = "francois.michonneau@gmail.com")
```

The information can also be summarized as a table:

```{r tibble}
## Summary as a tibble
cran_results(email = "francois.michonneau@gmail.com")
```

In addition of your own packages, you can also check the results for other
packages that might be of interest to you:

```{r package-name}
## either by themselves
summary_cran_results(pkg = c("ggplot2", "dplyr"))
cran_results(pkg = c("ggplot2", "dplyr"))

## or by combining them with email addresses
summary_cran_results(email = "francois.michonneau@gmail.com",
                     pkg = c("mregions", "ridigbio"))
cran_results(email = "francois.michonneau@gmail.com",
                   pkg = c("mregions", "ridigbio"))
```

You can also inspect the logs for the check results using
`show_cran_results(pkg)`, while `visit_cran_check(pkg)` takes you to the CRAN
webpage.

```{r show-cran-results}
show_cran_results(pkg = "tidyr")
```

## Where does the data come from?

The data from the CRAN check results used by this package are either scrapped
from the CRAN web pages (default), or are from the CRAN database. The first
option is faster if you want to regularly check a few packages. However, if you
are doing statistics on a large number of packages, using the CRAN database is
recommended. To use the CRAN database, add `src = "crandb"` in your function
calls:

```{r show-cran-db}
cran_results(pkg = "nlme", src = "crandb")
```

Check out the "Details" section in the help files for more information.


## Feedback? Suggestions?

Feel free to submit feedback and suggestions
by [opening an issue](https://github.com/fmichonneau/foghorn/issues/new) on
GitHub.


## Code of Conduct

Please note that this project is released with
a [Contributor Code of Conduct](CONDUCT.md). By participating in this project
you agree to abide by its terms.
